{
  "hash": "ca73230d8ebd4fb2fab119bdb85f0c4e",
  "result": {
    "markdown": "---\ndate: 2022-10-31\nlesson: Stat1\nthema: Grundlagen der Statistik\nindex: 1\nformat:\n  html:\n    code-tools:\n      source: true\n---\n\n\n# Stat1: Demo\n\nDownload dieses Demoscript via \"\\</\\>Code\" (oben rechts)\n\n## Daten generieren und anschauen\n\n\n::: {.cell}\n\n```{.r .cell-code}\na <- c(20, 19, 25, 10, 8, 15, 13, 18, 11, 14)\nb <- c(12, 15, 16, 7, 8, 10, 12, 11, 13, 10)\nblume <- data.frame(a, b)\nblume\n##     a  b\n## 1  20 12\n## 2  19 15\n## 3  25 16\n## 4  10  7\n## 5   8  8\n## 6  15 10\n## 7  13 12\n## 8  18 11\n## 9  11 13\n## 10 14 10\nsummary(blume)\n##        a               b        \n##  Min.   : 8.00   Min.   : 7.00  \n##  1st Qu.:11.50   1st Qu.:10.00  \n##  Median :14.50   Median :11.50  \n##  Mean   :15.30   Mean   :11.40  \n##  3rd Qu.:18.75   3rd Qu.:12.75  \n##  Max.   :25.00   Max.   :16.00\nboxplot(blume$a, blume$b)\n```\n\n::: {.cell-output-display}\n![](Statistik1_Demo_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n\n```{.r .cell-code}\nboxplot(blume)\n```\n\n::: {.cell-output-display}\n![](Statistik1_Demo_files/figure-html/unnamed-chunk-1-2.png){width=672}\n:::\n\n```{.r .cell-code}\nhist(blume$a)\n```\n\n::: {.cell-output-display}\n![](Statistik1_Demo_files/figure-html/unnamed-chunk-1-3.png){width=672}\n:::\n\n```{.r .cell-code}\nhist(blume$b)\n```\n\n::: {.cell-output-display}\n![](Statistik1_Demo_files/figure-html/unnamed-chunk-1-4.png){width=672}\n:::\n:::\n\n\n## Zweiseitiger t-Test\n\n\n::: {.cell}\n\n```{.r .cell-code}\nt.test(blume$a, blume$b)  # Zweiseitig 'Test auf a ≠ b' (default)\n## \n## \tWelch Two Sample t-test\n## \n## data:  blume$a and blume$b\n## t = 2.0797, df = 13.907, p-value = 0.05654\n## alternative hypothesis: true difference in means is not equal to 0\n## 95 percent confidence interval:\n##  -0.1245926  7.9245926\n## sample estimates:\n## mean of x mean of y \n##      15.3      11.4\n```\n:::\n\n\n## Einseitiger t-Test\n\n\n::: {.cell}\n\n```{.r .cell-code}\nt.test(blume$a, blume$b, alternative = \"greater\")  # Einseitig 'Test auf a > b'\n## \n## \tWelch Two Sample t-test\n## \n## data:  blume$a and blume$b\n## t = 2.0797, df = 13.907, p-value = 0.02827\n## alternative hypothesis: true difference in means is greater than 0\n## 95 percent confidence interval:\n##  0.5954947       Inf\n## sample estimates:\n## mean of x mean of y \n##      15.3      11.4\nt.test(blume$a, blume$b, alternative = \"less\")  # Einseitig 'Test auf a < b'\n## \n## \tWelch Two Sample t-test\n## \n## data:  blume$a and blume$b\n## t = 2.0797, df = 13.907, p-value = 0.9717\n## alternative hypothesis: true difference in means is less than 0\n## 95 percent confidence interval:\n##      -Inf 7.204505\n## sample estimates:\n## mean of x mean of y \n##      15.3      11.4\n```\n:::\n\n\n## Klassischer t-Test vs. Welch Test\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Varianzen gleich: klassischer t-Test\nt.test(blume$a, blume$b, var.equal = TRUE)\n## \n## \tTwo Sample t-test\n## \n## data:  blume$a and blume$b\n## t = 2.0797, df = 18, p-value = 0.05212\n## alternative hypothesis: true difference in means is not equal to 0\n## 95 percent confidence interval:\n##  -0.03981237  7.83981237\n## sample estimates:\n## mean of x mean of y \n##      15.3      11.4\n\n# Varianzen ungleich: Welch's t-Test (siehe Titelzeile des R-Outputs!)\nt.test(blume$a, blume$b)  # dasselbe wie var.equal = FALSE\n## \n## \tWelch Two Sample t-test\n## \n## data:  blume$a and blume$b\n## t = 2.0797, df = 13.907, p-value = 0.05654\n## alternative hypothesis: true difference in means is not equal to 0\n## 95 percent confidence interval:\n##  -0.1245926  7.9245926\n## sample estimates:\n## mean of x mean of y \n##      15.3      11.4\n```\n:::\n\n\n## Gepaarter t-Test\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gepaarter t-Test: erster Wert von a wird mit erstem Wert von b gepaart,\n# zweiter Wert von a mit zweitem von b ect.\nt.test(blume$a, blume$b, paired = TRUE)\n## \n## \tPaired t-test\n## \n## data:  blume$a and blume$b\n## t = 3.4821, df = 9, p-value = 0.006916\n## alternative hypothesis: true mean difference is not equal to 0\n## 95 percent confidence interval:\n##  1.366339 6.433661\n## sample estimates:\n## mean difference \n##             3.9\nt.test(blume$a, blume$b, paired = TRUE, alternative = \"greater\")\n## \n## \tPaired t-test\n## \n## data:  blume$a and blume$b\n## t = 3.4821, df = 9, p-value = 0.003458\n## alternative hypothesis: true mean difference is greater than 0\n## 95 percent confidence interval:\n##  1.846877      Inf\n## sample estimates:\n## mean difference \n##             3.9\n```\n:::\n\n\nDasselbe mit einer \"long table\"\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 'Long table' erstellen\ncultivar <- c(rep(\"a\", 10), rep(\"b\", 10))\nsize <- c(a, b)\nblume.long <- data.frame(cultivar, size)\n\n# nicht mehr benötitgten Objekte entfernen\nrm(size)\nrm(cultivar)\n\n# Daten anschauen\nsummary(blume.long)\n##    cultivar              size      \n##  Length:20          Min.   : 7.00  \n##  Class :character   1st Qu.:10.00  \n##  Mode  :character   Median :12.50  \n##                     Mean   :13.35  \n##                     3rd Qu.:15.25  \n##                     Max.   :25.00\nhead(blume.long)\n##   cultivar size\n## 1        a   20\n## 2        a   19\n## 3        a   25\n## 4        a   10\n## 5        a    8\n## 6        a   15\nboxplot(size ~ cultivar, data = blume.long)\n```\n\n::: {.cell-output-display}\n![](Statistik1_Demo_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\n\n# Tests durchführen\nt.test(size ~ cultivar, blume.long, var.equal = TRUE)\n## \n## \tTwo Sample t-test\n## \n## data:  size by cultivar\n## t = 2.0797, df = 18, p-value = 0.05212\n## alternative hypothesis: true difference in means between group a and group b is not equal to 0\n## 95 percent confidence interval:\n##  -0.03981237  7.83981237\n## sample estimates:\n## mean in group a mean in group b \n##            15.3            11.4\nt.test(size ~ cultivar, blume.long, paired = TRUE)\n## \n## \tPaired t-test\n## \n## data:  size by cultivar\n## t = 3.4821, df = 9, p-value = 0.006916\n## alternative hypothesis: true mean difference is not equal to 0\n## 95 percent confidence interval:\n##  1.366339 6.433661\n## sample estimates:\n## mean difference \n##             3.9\n```\n:::\n\n\n## Base R vs. ggplot2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nggplot(blume.long, aes(cultivar, size)) + geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](Statistik1_Demo_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(blume.long, aes(cultivar, size)) + geom_boxplot() + theme_classic()\n```\n\n::: {.cell-output-display}\n![](Statistik1_Demo_files/figure-html/unnamed-chunk-7-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(blume.long, aes(cultivar, size)) + geom_boxplot(size = 1) + theme_classic() +\n    theme(axis.line = element_line(size = 1)) + theme(axis.title = element_text(size = 14)) +\n    theme(axis.text = element_text(size = 14))\n```\n\n::: {.cell-output-display}\n![](Statistik1_Demo_files/figure-html/unnamed-chunk-7-3.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(blume.long, aes(cultivar, size)) + geom_boxplot(size = 1) + theme_classic() +\n    theme(axis.line = element_line(size = 1), axis.ticks = element_line(size = 1),\n        axis.text = element_text(size = 20), axis.title = element_text(size = 20))\n```\n\n::: {.cell-output-display}\n![](Statistik1_Demo_files/figure-html/unnamed-chunk-7-4.png){width=672}\n:::\n:::\n\n\nDefinieren von mytheme mit allen gewünschten Settings, das man zu Beginn einer Sitzung einmal laden und dann immer wieder ausführen kann (statt des langen Codes)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmytheme <- theme_classic() + theme(axis.line = element_line(color = \"black\", size = 1),\n    axis.text = element_text(size = 20, color = \"black\"), axis.title = element_text(size = 20,\n        color = \"black\"), axis.ticks = element_line(size = 1, color = \"black\"), axis.ticks.length = unit(0.5,\n        \"cm\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Schöne Boxplots erstellen\n\nggplot(blume.long, aes(cultivar, size)) + geom_boxplot(size = 1) + mytheme\n```\n\n::: {.cell-output-display}\n![](Statistik1_Demo_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n\n```{.r .cell-code}\n\nt_test <- t.test(size ~ cultivar, blume.long)\n\n# Mit p-Wert im Plot\nggplot(blume.long, aes(cultivar, size)) + geom_boxplot(size = 1) + mytheme + annotate(\"text\",\n    x = \"b\", y = 24, label = paste0(\"italic(p) == \", round(t_test$p.value, 3)), parse = TRUE,\n    size = 8)\n```\n\n::: {.cell-output-display}\n![](Statistik1_Demo_files/figure-html/unnamed-chunk-9-2.png){width=672}\n:::\n\n```{.r .cell-code}\n\n# Ohne p-Wert im Plot (da dieser > 0.05)\nggplot(blume.long, aes(cultivar, size)) + geom_boxplot(size = 1) + mytheme + labs(x = \"Cultivar\",\n    y = \"Size (cm)\")\n```\n\n::: {.cell-output-display}\n![](Statistik1_Demo_files/figure-html/unnamed-chunk-9-3.png){width=672}\n:::\n:::\n\n\n## Binomialtest\n\nIn Klammern übergibt man die Anzahl der Erfolge und die Stichprobengrösse\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbinom.test(84, 200)  # Anzahl Frauen im Nationalrat (≙ 42.0 %; Stand 2019) \n## \n## \tExact binomial test\n## \n## data:  84 and 200\n## number of successes = 84, number of trials = 200, p-value = 0.02813\n## alternative hypothesis: true probability of success is not equal to 0.5\n## 95 percent confidence interval:\n##  0.3507439 0.4916638\n## sample estimates:\n## probability of success \n##                   0.42\nbinom.test(116, 200)  # Anzahl Männer im Nationalrat (≙ 58.0 %; Stand 2019) \n## \n## \tExact binomial test\n## \n## data:  116 and 200\n## number of successes = 116, number of trials = 200, p-value = 0.02813\n## alternative hypothesis: true probability of success is not equal to 0.5\n## 95 percent confidence interval:\n##  0.5083362 0.6492561\n## sample estimates:\n## probability of success \n##                   0.58\nbinom.test(3, 7)  # Anzahl Frauen im Bundesrat (≙ 42.9 %; Stand 2019)\n## \n## \tExact binomial test\n## \n## data:  3 and 7\n## number of successes = 3, number of trials = 7, p-value = 1\n## alternative hypothesis: true probability of success is not equal to 0.5\n## 95 percent confidence interval:\n##  0.09898828 0.81594843\n## sample estimates:\n## probability of success \n##              0.4285714\n```\n:::\n\n\n## Chi-Quadrat-Test & Fishers Test\n\nErmitteln des kritischen Wertes\n\n\n::: {.cell}\n\n```{.r .cell-code}\nqchisq(0.95, 1)\n## [1] 3.841459\n```\n:::\n\n\n## Direkter Test in R (dazu Werte als Matrix nötig)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Matrix mit Haarfarbe&Augenfarbe-Kombidnationen erstellen 38 blond&blau, 14\n# dunkel&blau, 11 blond&braun,, 51 dunkel&braun\ncount <- matrix(c(38, 14, 11, 51), nrow = 2)\ncount  # Check\n##      [,1] [,2]\n## [1,]   38   11\n## [2,]   14   51\nrownames(count) <- c(\"blond\", \"dunkel\")  # Benennen für Übersicht\ncolnames(count) <- c(\"blau\", \"braun\")  #  Benennen für Übersicht\ncount  # Check \n##        blau braun\n## blond    38    11\n## dunkel   14    51\n\n# Tests durchführen\nchisq.test(count)\n## \n## \tPearson's Chi-squared test with Yates' continuity correction\n## \n## data:  count\n## X-squared = 33.112, df = 1, p-value = 8.7e-09\nfisher.test(count)\n## \n## \tFisher's Exact Test for Count Data\n## \n## data:  count\n## p-value = 2.099e-09\n## alternative hypothesis: true odds ratio is not equal to 1\n## 95 percent confidence interval:\n##   4.746351 34.118920\n## sample estimates:\n## odds ratio \n##   12.22697\n```\n:::\n",
    "supporting": [
      "Statistik1_Demo_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}